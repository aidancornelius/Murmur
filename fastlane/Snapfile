# Snapfile for Murmur screenshot automation

# List of devices to generate screenshots for
devices([
  "iPhone 17 Pro Max",        # 6.9" - Will be resized to 1284 Ã— 2778px for App Store
  "iPhone 17 Pro",            # 6.3" - Standard Pro model
  "iPhone 13 mini",           # 5.4" - Smallest modern iPhone
  "iPad Pro 13-inch (M4)",    # 13" iPad Pro
  "iPad mini (A17 Pro)"       # 8.3" iPad mini
])

# List of languages to screenshot
# Add more languages as needed for localisation
languages([
  "en-AU"
])

# Where to put the screenshots
output_directory "./fastlane-output/screenshots"

# Clear previous screenshots
clear_previous_screenshots true

# Remove the alpha channel from screenshots
override_status_bar true

# Arguments to pass to the app on launch
# launch_arguments(["-FirstLaunch"])

# Scheme that drives the UI tests for snapshot capture
scheme "MurmurUITests"

# Restrict snapshot runs to the screenshot test to avoid executing the full UI suite
only_testing([
  "MurmurUITests/MurmurUITests/testGenerateScreenshots"
])

# For apps that support dark mode, enable this to capture dark mode screenshots
# dark_mode true

# Skip opening simulator after snapshot completes
stop_after_first_error false

# Number of times to retry if a screenshot fails
number_of_retries 3

# Erase the simulator before running
erase_simulator true

# Reinstall app before running
reinstall_app true

# Delay between launching app and taking screenshots (in seconds)
# launch_test_target_wait_for_animations true
