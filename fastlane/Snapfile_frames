# Snapfile for Murmur screenshot automation - Devices with frame support
# Use this configuration when you want to generate screenshots with device frames

# List of devices with confirmed frameit support
devices([
  "iPhone 16 Pro Max",                      # 6.9" - Latest with frames
  "iPhone 15 Pro",                          # 6.1" - Solid frame support
  "iPhone 13",                              # 6.1" - Proven frame support
  "iPad Pro (12.9-inch) (6th generation)",  # 12.9" - Has frame support
  "iPad mini (6th generation)"              # 8.3" - Has frame support
])

# List of languages to screenshot
languages([
  "en-AU"
])

# Where to put the screenshots
output_directory "./fastlane-output/screenshots-framed"

# Clear previous screenshots
clear_previous_screenshots true

# Remove the alpha channel from screenshots
override_status_bar true

# Status bar override settings
override_status_bar_arguments "--time 2025-05-09T09:41:00+10:30 --dataNetwork '5g-uwb' --cellularMode 'active' --cellularBars 3 --operatorName 'Telecom Australia' --batteryState 'discharging' --batteryLevel 80"

# Scheme that drives the UI tests for snapshot capture
scheme "MurmurUITests"

# Restrict snapshot runs to the screenshot test to avoid executing the full UI suite
only_testing([
  "MurmurUITests/MurmurUITests/testGenerateScreenshots"
])

# Skip opening simulator after snapshot completes
stop_after_first_error false

# Number of times to retry if a screenshot fails
number_of_retries 3

# Erase the simulator before running
erase_simulator true

# Reinstall app before running
reinstall_app true
